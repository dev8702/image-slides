!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports["react-imageslides"]=e(require("react"),require("react-dom")):t["react-imageslides"]=e(t.react,t["react-dom"])}(this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(e,n){e.exports=t},function(t,e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var s=i(o);return[n].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([s]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(i[s]=!0)}for(o=0;o<t.length;o++){var r=t[o];"number"==typeof r[0]&&i[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),e.push(r))}},e}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=p[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(u(i.parts[s],e))}else{for(var r=[],s=0;s<i.parts.length;s++)r.push(u(i.parts[s],e));p[i.id]={id:i.id,refs:1,parts:r}}}}function o(t,e){for(var n=[],i={},o=0;o<t.length;o++){var s=t[o],r=e.base?s[0]+e.base:s[0],a=s[1],l=s[2],c=s[3],u={css:a,media:l,sourceMap:c};i[r]?i[r].parts.push(u):n.push(i[r]={id:r,parts:[u]})}return n}function s(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=b[b.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function r(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),s(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),s(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function u(t,e){var n,i,o,s;if(e.transform&&t.css){if(!(s=e.transform(t.css)))return function(){};t.css=s}if(e.singleton){var c=y++;n=g||(g=a(e)),i=h.bind(null,n,c,!1),o=h.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),i=d.bind(null,n,e),o=function(){r(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=f.bind(null,n),o=function(){r(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function h(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var s=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}function f(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var i=n.css,o=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||s)&&(i=w(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}var p={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),g=null,y=0,b=[],w=n(14);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=o(t,e);return i(n,e),function(t){for(var s=[],r=0;r<n.length;r++){var a=n[r],l=p[a.id];l.refs--,s.push(l)}if(t){i(o(t,e),e)}for(var r=0;r<s.length;r++){var l=s[r];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){t.exports=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=o.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(0),h=i(u),f=n(6),d=i(f),p=n(7),m=i(p),v=n(8),g=i(v),y=n(9),b=i(y),w=n(10),x=i(w);n(15);var T=10,O=function(t){function e(){var t,n,i,o;s(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.state={index:0,loaded:{},isOpen:!1},i.lastContainerOffsetX=0,i.initialStyle={},i.imageController={},i.getContainer=function(t){if(t){var e=i.props.useTouchEmulator,n=new d.default(t,{});i.containerEl=t,i.containerController=n;var o=i.containerEl.style;e&&(0,g.default)(t),n.on("touchStart",function(){o.transition=""}),n.on("pressMove",i.containerOnMove),n.on("touchEnd",function(){var t=.2*i.viewPortEl.clientWidth;i.lastContainerOffsetX>t?(i.getMedianIndex()>0&&1!==i.state.index?o.transform="translate3d("+(i.lastContainerOffsetX-2*(T+i.viewPortEl.clientWidth))+"px, 0, 0)":1===i.state.index&&(o.transform="translate3d("+(i.lastContainerOffsetX-(T+i.viewPortEl.clientWidth))+"px, 0, 0)"),i.last()):i.lastContainerOffsetX<-t&&(o.transform="translate3d("+i.lastContainerOffsetX+"px, 0, 0)",0===i.state.index&&(o.transition="all 0.3s"),i.next()),o.transition="all 0.3s",o.transform="translate3d("+-(T+i.viewPortEl.clientWidth)*i.getMedianIndex()+"px, 0, 0)",i.lastContainerOffsetX=0,i.isMoving=!1})}},i.getImageEl=function(t){t&&i.gesturesHandler(t)},i.getViewPort=function(t){i.viewPortEl=t},i.containerOnMove=function(t){i.isMoving=!0;var e=parseInt(t.deltaX,10),n=i.containerEl?i.containerEl.style:{};i.lastContainerOffsetX=e+i.lastContainerOffsetX;var o=i.lastContainerOffsetX-(T+i.viewPortEl.clientWidth)*i.getMedianIndex();n.transform="translate3d("+o+"px, 0, 0)"},i.next=function(){var t=i.state.index,e=i.props.images;t<e.length-1&&(i.setState({index:t+1},i.ignore),i.preload(e[t+1]))},i.last=function(){var t=i.state.index,e=i.props.images;t>0&&(i.setState({index:t-1},i.ignore),i.preload(e[t-1]))},i.ignore=function(){i.containerController&&(i.containerController.off("pressMove",i.containerOnMove),i.containerController.on("pressMove",i.containerOnMove))},i.onCloseViewer=function(t){var e=i.state.index,n=i.props.onClose;i.setState({isOpen:!1}),n(t,e)},o=n,r(i,o)}return a(e,t),c(e,[{key:"componentWillMount",value:function(){var t=this.props,e=t.index,n=t.images,i=t.isOpen;this.setState({index:e||this.state.index,isOpen:i}),this.preload(n[e||this.state.index])}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.index,i=e.isOpen,o=t.index,s=t.isOpen;i!==s&&this.setState({isOpen:s}),o&&n!==o&&this.setState({index:o})}},{key:"getMedianIndex",value:function(){var t=this.state.index,e=this.props.images,n=t+2>e.length?e.length:t+2,i=t-1<0?0:t-1,o=parseInt((n-i)/2,10);return t<1?o=t:t>e.length-2&&(o=e.length-t),o}},{key:"gesturesHandler",value:function(t){var e=this;this.props.useTouchEmulator&&(0,g.default)(t.parentElement);var n=new m.default(t,{viewPortWidth:this.viewPortEl.clientWidth,viewPortHeight:this.viewPortEl.clientHeight,onGetControl:function(){e.containerController&&!e.isMoving&&e.containerController.off("pressMove",e.containerOnMove)},onLoseControl:function(){e.containerController&&!e.isMoving&&e.containerController.on("pressMove",e.containerOnMove)}}),i=new d.default(t.parentElement,{});i.on("pressMove",function(t){n.move(t)}),i.on("pinch",function(t){n.enlargeBytimes(t.zoom)}),i.on("doubleTap",function(){n.state.scale>1?n.reset():(n.enlargeBytimes(1.8),n.recordScale())}),i.on("touchEnd",function(){n.recordScale()})}},{key:"preload",value:function(t){var e=this;if(t&&!this.state.loaded[t]){var n=new Image;new Promise(function(e,i){n.onload=e,n.onerror=i,n.src=t}).then(function(){e.initialStyle[t]=(0,b.default)(n.width,n.height),e.setState({loaded:l({},e.state.loaded,o({},t,!0))})})}}},{key:"render",value:function(){var t=this,e=this.state,n=e.loaded,i=e.index,o=e.isOpen,s=this.props.images,r=i+2>s.length?s.length:i+2,a=i-1<0?0:i-1;return o?h.default.createElement(x.default,{lock:!0},h.default.createElement("div",{className:"image-slides-view-port",ref:this.getViewPort},h.default.createElement("button",{className:"image-slides-close",onClick:this.onCloseViewer},h.default.createElement("svg",{fill:"#fff",height:"24",viewBox:"0 0 24 24",width:"24",transform:"scale(1.5)"},h.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),h.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),h.default.createElement("div",{className:"image-slides-index"},i+1+" / "+s.length),h.default.createElement("div",{className:"image-slides-container",style:{transform:"translate3d("+-this.getMedianIndex()*((this.viewPortEl?this.viewPortEl.clientWidth:0)+T)+"px, 0, 0)"},ref:this.getContainer},s.slice(a,r).map(function(e,o){return h.default.createElement("div",{key:e+(o+i-(i-a)),className:"image-slides-blackboard"},n[e]?h.default.createElement("img",{className:"image-slides-content",style:l({},t.initialStyle[e]),src:e,alt:"图片",ref:t.getImageEl}):h.default.createElement("div",{className:"image-slides-loading",key:"loading"},h.default.createElement("div",null),h.default.createElement("div",null),h.default.createElement("div",null),h.default.createElement("div",null),h.default.createElement("div",null)))})))):null}}]),e}(u.PureComponent);O.defaultProps={images:[],index:0,isOpen:!1},e.default=O},function(t,e,n){!function(){function e(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function n(t,e){return t.x*e.x+t.y*e.y}function i(t,i){var o=e(t)*e(i);if(0===o)return 0;var s=n(t,i)/o;return s>1&&(s=1),Math.acos(s)}function o(t,e){return t.x*e.y-e.x*t.y}function s(t,e){var n=i(t,e);return o(t,e)>0&&(n*=-1),180*n/Math.PI}function r(t,e){var n=new a(t);return n.add(e),n}var a=function(t){this.handlers=[],this.el=t};a.prototype.add=function(t){this.handlers.push(t)},a.prototype.del=function(t){t||(this.handlers=[]);for(var e=this.handlers.length;e>=0;e--)this.handlers[e]===t&&this.handlers.splice(e,1)},a.prototype.dispatch=function(){for(var t=0,e=this.handlers.length;t<e;t++){var n=this.handlers[t];"function"==typeof n&&n.apply(this.el,arguments)}};var l=function(t,e){this.element="string"==typeof t?document.querySelector(t):t,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var n=function(){};this.rotate=r(this.element,e.rotate||n),this.touchStart=r(this.element,e.touchStart||n),this.multipointStart=r(this.element,e.multipointStart||n),this.multipointEnd=r(this.element,e.multipointEnd||n),this.pinch=r(this.element,e.pinch||n),this.swipe=r(this.element,e.swipe||n),this.tap=r(this.element,e.tap||n),this.doubleTap=r(this.element,e.doubleTap||n),this.longTap=r(this.element,e.longTap||n),this.singleTap=r(this.element,e.singleTap||n),this.pressMove=r(this.element,e.pressMove||n),this.touchMove=r(this.element,e.touchMove||n),this.touchEnd=r(this.element,e.touchEnd||n),this.touchCancel=r(this.element,e.touchCancel||n),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};l.prototype={start:function(t){if(t.touches){this.now=Date.now(),this.x1=t.touches[0].pageX,this.y1=t.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(t),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var n=this.preV;if(t.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var i={x:t.touches[1].pageX-this.x1,y:t.touches[1].pageY-this.y1};n.x=i.x,n.y=i.y,this.pinchStartLen=e(n),this.multipointStart.dispatch(t)}this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(t)}.bind(this),750)}},move:function(t){if(t.touches){var n=this.preV,i=t.touches.length,o=t.touches[0].pageX,r=t.touches[0].pageY;if(this.isDoubleTap=!1,i>1){var a={x:t.touches[1].pageX-o,y:t.touches[1].pageY-r};null!==n.x&&(this.pinchStartLen>0&&(t.zoom=e(a)/this.pinchStartLen,this.pinch.dispatch(t)),t.angle=s(a,n),this.rotate.dispatch(t)),n.x=a.x,n.y=a.y}else null!==this.x2?(t.deltaX=o-this.x2,t.deltaY=r-this.y2):(t.deltaX=0,t.deltaY=0),this.pressMove.dispatch(t);this.touchMove.dispatch(t),this._cancelLongTap(),this.x2=o,this.y2=r,i>1&&t.preventDefault()}},end:function(t){if(t.changedTouches){this._cancelLongTap();var e=this;t.touches.length<2&&this.multipointEnd.dispatch(t),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){e.swipe.dispatch(t)},0)):(this.tapTimeout=setTimeout(function(){e.tap.dispatch(t),e.isDoubleTap&&(e.doubleTap.dispatch(t),clearTimeout(e.singleTapTimeout),e.isDoubleTap=!1)},0),e.isDoubleTap||(e.singleTapTimeout=setTimeout(function(){e.singleTap.dispatch(t)},250))),this.touchEnd.dispatch(t),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancel:function(t){clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout),this.touchCancel.dispatch(t)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"},on:function(t,e){this[t]&&this[t].add(e)},off:function(t,e){this[t]&&this[t].del(e)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=null,null}},t.exports=l}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.state={scale:1,lastScale:1,offsetX:0,offsetY:0,lastOffsetX:0,lastOffsetY:0},this.target=e,this.originalWidth=e.clientWidth,this.viewPortWidth=n.viewPortWidth,this.viewPortHeight=n.viewPortHeight,this.onGetControl=n.onGetControl,this.onLoseControl=n.onLoseControl}return s(t,[{key:"changeTarget",value:function(t){this.target=t,this.originalWidth=t.clientWidth}},{key:"set",value:function(t){this.preProcess(t);var e=this.target.style,n=this.state,i=n.offsetX,o=n.offsetY,s=n.lastOffsetX,r=n.lastOffsetY,a=n.scaleMultiples;e.transform="translate3d(calc("+(i+s)+"px - 50%), calc("+(o+r)+"px - 50%), 0) scale("+a+")",this.onChange&&this.onChange(this.state),this.state.lastOffsetX=i+s,this.state.lastOffsetY=o+r}},{key:"preProcess",value:function(t){this.state=o({},this.state,t),this.state.scaleMultiples=this.state.scale;var e=this.target,n=e.clientWidth,i=e.clientHeight,s=this.state,r=s.lastOffsetX,a=s.lastOffsetY,l=s.scaleMultiples;l<=1&&(r||a)&&this.reset(),this.restrictMovement((n*l-this.viewPortWidth)/2,(i*l-this.viewPortHeight)/2)}},{key:"restrictMovement",value:function(t,e){var n=!0,i={},s=this.state,r=s.offsetX,a=s.offsetY,l=s.lastOffsetX,c=s.lastOffsetY;Math.abs(l+r)>t&&Math.abs(l+r)>Math.abs(l)&&(i.offsetX=0,i.lastOffsetX=l,n=!1),Math.abs(c+a)>e&&Math.abs(c+a)>Math.abs(c)&&(i.offsetY=0,i.lastOffsetY=c),!n&&this.onLoseControl&&Math.abs(a)<5?(this.onGetControl(),this.onLoseControl()):this.onGetControl(),this.state=o({},this.state,i)}},{key:"reset",value:function(){this.target.style.transition="transform 0.1s",this.set({scale:1,offsetX:0,offsetY:0,lastOffsetX:0,lastOffsetY:0,lastScale:1}),this.target.style.transition="transform 0.1s"}},{key:"enlargeBytimes",value:function(t){var e=this.state.lastScale,n=void 0===e?1:e,i=t*n;i<3.5&&i>1?this.set({scale:i}):i<=1&&this.set({scale:1})}},{key:"recordScale",value:function(){this.set({lastScale:this.state.scale})}},{key:"move",value:function(t){this.set({offsetX:parseInt(t.deltaX,10),offsetY:parseInt(t.deltaY,10)})}},{key:"record",value:function(t){this.set({lastOffsetX:t.deltaX+this.state.lastOffsetX,lastOffsetY:t.deltaY+this.state.lastOffsetY,offsetX:0,offsetY:0})}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t){function e(t){t.preventDefault(),t.stopPropagation()}function n(e,n,o){t.addEventListener(e,function(e){if("touchstart"===n||i){var s={pageX:e.pageX,pageY:e.pageY,type:n},r=new CustomEvent(n);r.touches=[s],r.changedTouches=[s],e.preventDefault(),t.dispatchEvent(r)}"touchmove"!==n&&(i=o)})}var i=!1;n("mousedown","touchstart",!0),n("mousemove","touchmove",!0),n("mouseup","touchend",!1),n("mouseout","touchend",!1),n("mouseleave","touchend",!1),t.addEventListener("mouseenter",e,!0),t.addEventListener("mouseleave",e,!0),t.addEventListener("mouseout",e,!0),t.addEventListener("mouseover",e,!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t,e){var n=window.innerWidth,i=window.innerHeight;return t/e>n/i?{width:n<t?"100%":t+"px",height:"auto"}:{width:"auto",height:i<e?"100%":t+"px"}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(0),c=i(l),u=n(11),h=i(u);n(12);var f=null,d=0,p=function(t){function e(){var t,n,i,r;o(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=s(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.locked=!1,r=n,s(i,r)}return r(e,t),a(e,[{key:"componentDidMount",value:function(){!0===this.props.lock&&this.preventScrolling(),this.node=document.createElement("div"),this.props.parentSelector().appendChild(this.node),this.renderContent(this.props)}},{key:"componentWillReceiveProps",value:function(t){this.props.lock!==t.lock&&(t.lock?this.preventScrolling():this.allowScrolling());var e=this.props.parentSelector(),n=t.parentSelector();n!==e&&(e.removeChild(this.node),n.appendChild(this.node)),this.renderContent(t)}},{key:"componentWillUnmount",value:function(){var t=this.props.parentSelector();this.node&&this.content&&(h.default.unmountComponentAtNode(this.node),t.removeChild(this.node),this.allowScrolling())}},{key:"renderContent",value:function(t){this.content=h.default.render(c.default.createElement("div",{className:"image-slides-overlay"},t.children),this.node)}},{key:"preventScrolling",value:function(){if(!0!==this.locked&&1===(d+=1)){var t=document.body;f=t.style.overflow,t.style.overflow="hidden"}}},{key:"allowScrolling",value:function(){if(!0===this.locked&&(d-=1,this.locked=!1),0===d&&null!==f){document.body.style.overflow=f||"",f=null}}},{key:"render",value:function(){return null}}]),e}(l.PureComponent);p.defaultProps={lock:!1,parentSelector:function(){return document.body}},e.default=p},function(t,n){t.exports=e},function(t,e,n){var i=n(13);"string"==typeof i&&(i=[[t.i,i,""]]);var o={};o.transform=void 0;n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(1)(void 0),e.push([t.i,".image-slides-overlay{position:fixed;top:0;left:0;z-index:999;width:100%;height:100%;background-color:rgba(0,0,0,.9)}",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return t;var s;return s=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(s)+")"})}},function(t,e,n){var i=n(16);"string"==typeof i&&(i=[[t.i,i,""]]);var o={};o.transform=void 0;n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(1)(void 0),e.push([t.i,"@-webkit-keyframes line-scale-pulse-out{0%{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}to{-webkit-transform:scaleY(1);transform:scaleY(1)}}@keyframes line-scale-pulse-out{0%{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}to{-webkit-transform:scaleY(1);transform:scaleY(1)}}.image-slides-loading{position:absolute;top:50%;left:50%;width:100%;line-height:500px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.image-slides-loading>div{display:inline-block;width:4px;height:35px;margin:2px;border-radius:2px;background-color:#fff;-webkit-animation:line-scale-pulse-out .9s -.6s infinite cubic-bezier(.85,.25,.37,.85);animation:line-scale-pulse-out .9s -.6s infinite cubic-bezier(.85,.25,.37,.85);-webkit-animation-fill-mode:both;animation-fill-mode:both}.image-slides-loading>div:nth-child(2),.image-slides-loading>div:nth-child(4){-webkit-animation-delay:-.4s!important;animation-delay:-.4s!important}.image-slides-loading>div:first-child,.image-slides-loading>div:nth-child(5){-webkit-animation-delay:-.2s!important;animation-delay:-.2s!important}.image-slides-view-port{overflow:hidden;width:100%;height:100%;background-color:#000}.image-slides-container{will-change:transform;position:relative;overflow:visible;height:100%;white-space:nowrap}.image-slides-index{right:10%;bottom:10%;border-radius:2px;color:#fff;font-size:14px}.image-slides-close,.image-slides-index{position:absolute;z-index:100;background-color:rgba(0,0,0,.15)}.image-slides-close{top:10px;right:10px;padding-top:6px;border:0;border-radius:2px;outline:none;cursor:pointer}.image-slides-blackboard{display:inline-block;position:relative;width:100%;height:100%;margin-right:10px;text-align:center}.image-slides-content{will-change:transform;position:absolute;top:50%;left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0)}",""])}])});